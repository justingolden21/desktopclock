main todo:
get linting/formatting on all devices, update readme with instructions for new device

auto detect locale (datetime locale) (each toggle has a reset/automatically determine btn)

fix margin on primary display date/time/datetime, too large/overflow
formatting options for date/time/datetime, should also support short or long names for month, weekday, other locales

show cast btn only if device supports it (navigator.presentation ?)

pinning cast button: https://support.google.com/chromecast/answer/7249696
cast a tab: https://support.google.com/chromecast/answer/3228332
add link to faqs/help

zen mode btn: top of clock settings, click to go fullscreen, no menu, no buttons, no title, just primary and secondary display

dark theme update app theme colors, favicon? do similar for other themes?

link to browse all colors at justingolden.me/tailwind-colors ?

presentation api todo:
make the receiver a page that just has the clock with no menu or buttons, and then the user can change the settings and it sends a signal to the receiver to display those changes on the tv. eventually will want to support worldclock etc

btn to add new theme, new theme shows up as btn with small x to right to delete it
prompt "are you sure" before deleting, max of 20 themes, btn to delete all themes appears if more than 5

change theme color with dark mode / reactively?

TOP PRIORITY / MVP:
================

google analytics:
- make sure page view works
- user device type
- number of seconds user is on page
- user country, lang
- pwa prompt shown, pwa prompt clicked and success or fail, prompt from browser or not
- user opens app in pwa
- offline analytics?
- which page user was on when installed app
- which pages users spend most time on
- !!! track when certain buttons are clicked (like primary btn, settings btn)
- !!! track which settings users have? firebase and auth to store settings across devices? eh... future

second hand moving backwards (switching displays, tabs) thats illegal

before release:
[x] comment other nav options
- test everything to hell (devices, browsers, versions, aspect ratios, pixel densities, operating systems, pwa, language, display settings, saving settings)
- last: get domain, marketing video, para about translate to your lang, ux test
================

zoom in/out buttons?
if(document.body.style.zoom)
document.body.style.zoom = "80%";
https://stackoverflow.com/a/12603229/4907950

fix teleport clock hands (if diff is more than 2 seconds from old time then no transition)

important:
turn off screen lock option?
test in other langs
test lodash merge local storage in depth
- support localStore adding new settings in future (NEEDS TESTING)
determine final structure for clock theme settings (will be hard to change after launch)

MVP consider:
different seo data, meta tags, social meta tags for different pages (worldclock, stopwatch, etc)
if hovered then pause timeout to dismiss toast?
remember theme preset name rather than each individual setting?
??? only store settings when they differ from defaults?
add option to add any text to main screen?
translate timezones?
option to turn off and option to reset local storage, see notes
??? clean code, fix linting errors (check svelte kit repo package json)
minor bug: clock freezes for one second before continuing
- hour hand also teleports, probably because of timezone detection
PWA testing, browser and platform testing, ux testing
inner modals should be same size as outter modals?
- interior modal full width (formatting table, eventually view shortcuts modal) move modal outside of settings modal (settings component)
- settings component could include modal wrapper
??? cache fonts offline?
translate numbers? (other locales with different counting systems for timezone hours difference, etc)
??? website not working in messenger?
flipclock (component) https://codepen.io/shshaw/pen/vKzoLL
primary and secondary font options, same with theme color
dropdown for each tailwind color (needs translation) for analog clock parts, default to primary palette color if not specified (dropdown with "primary" as display and value of "")

date calculator:
find difference between two dates
chose one date and add or subtract days/time
find out how long ago or how long until certain day from today

option to display battery on primary or secondary?

worldclock:
main time / your timezone at top, horizontal row, other timezones below in grid. options for analog clock, digital clock, or analog with digital below
option to display date above
option to delete, edit/rename/change location/timezone, and move
view settings for comfy or compact, more rows with larger screens, quick fullscreen btn as well
save multiple layouts, each layout like a folder/list that can have multiple clocks, use arrows or dropdown to switch layouts, delete layouts
share link to worldclock with layouts in url params (list of timezones in order)
option to show seconds or not
timetable option like kanga
see options offered in google app, microsoft app, timeandate app

future: each analog clock part will be able to be in the primary or secondary color
future: translate color names

on open modal, focus close btn? or focus somewhere inside modal?

code organizaiton:
??? one centralized place for $now with .tz() and others so redundant code doesn't have to be supported

BONUS / NEXT:
theme color(s) (primary and secondary/accent colors) used across entire UI (use css variables and tailwind colors in script to handle app color theme?)
option to display timezone name (string selected in dropdown as opposed to utc code)
better selection methods and displays for timezone dropdown (display utc, autocomplete input)
settings should only show clock settings if clock open, show worldclock settings if worldclock open, etc.

future settings adjustments:
- send feedback can open modal prompt with subject and body and send btn opens mailto
- implenent langs, locales, timezones, update ui with reset btns next to them and auto detect toggle
- finalize keyboard shortcuts
- maybe turn on and off specific shortcuts, change keys (each item has a toggle and input for key)
display toast if update is available (click to restart/install) (option to turn this off?)

```
window.isUpdateAvailable = new Promise(function (resolve, reject) {
    navigator.serviceWorker
      .register("service-worker.js")
      .then((reg) => {
        reg.onupdatefound = () => {
          const installingWorker = reg.installing;
          installingWorker.onstatechange = () => {
            switch (installingWorker.state) {
              case "installed":
                if (navigator.serviceWorker.controller) {
                  // new update available
                  resolve(true);
                } else {
                  // no update available
                  resolve(false);
                }
                break;
            }
          };
        };
      })
      .catch((err) => console.error("[SW ERROR]", err));
});
```

redirect /index.html to /

maybe:
remember which tab and accordion are open in local storage?

more folders for components? (toast, tabs in their own, components for only one page (clock, worldclock) should also have their own folders)

better detection for default system language?

https://github.com/kangabru/whats-the-time/blob/master/src/utils/utils.ts
`window.navigator.languages ? window.navigator.languages[0] : window.navigator.language;`
should instead check default navigator.language and if not in available languages then loop through navigator.languages
in order until finding a hard match (en-US vs en-US) and if not then loop through until finding a soft match (en vs en-US or en-UK vs en-US)
if no matches are found, default to en-US

font weight and font size settings for both primary and secondary displays?
make sure fonts are served offline
reduce file size of fonts loaded

pop out settings modal (into new window) button?

varying font size based off of length of string for custom date/time/datetime format (primary display only)

get version from package.json in about section
command to automatically build for production (update sw cache name) and update version number in package json?

bug: app doesn't work in messenger in browser

"convert" menu section

next:
!!! : ) dropdown for color in additon to lightness for each item in analog theme. option for "primary color" and "accent color" which can be chosen in general settings
review font families again?
test casting api
add more icons to settings?
check meta tags, make sure it works on google,fb,twitter, etc, maybe add similar to sharethis?
https://metatags.io/
implement automated testing?
save settings automatically toggle?

settings.svelte is a MESS, needs to be broken down, translated, etc.
next: clean settings and nav, implement spanish translations, implement way for user to change language (currently has no effect), clean :global(.dark) to dark:

preset buttons that you click for specific settings/modes, for example, "swim clock" which has mins and sec only
ability to have multiple timers/countdowns in 3hrs/3years, name them, delete them, share them (url params)
multiple timers can count time since or time until, or for set amount of time. can split into multiple sections each with simple ui

preset themes (choose from maybe five or ten, preview images or clocks maybe?)
save your own themes and load them?

live update clock preview in settings on static float right when changing analog display settings?

future:
timezone input with autocomplete select
primary or secondary input: timezone (name, location, utc... pick which ones), greeting ("good morning/afternoon/evening/night, {name}"), custom (custom text)
test presentation, share, and pwa
calendar page
flutter mobile apps, port to watch and tv
option to change datetime order to date then time or time then date
centralized "card"/"surface" styles for nav, modal, toast, tabs, etc, with similar backdrop blur, colors, night colors, padding, opacity, etc
list in android store and windows store (twa) https://youtu.be/7JDFjeMvxos

settings ui:
version number should be moved from applicaiton to about. way to automatically update each commit?
all 3 locale settings should have reset btns next to them and auto detect toggles next to them
download and upload settings (json, human readable) should be in advanced settings? maybe not
add confirmation prompt to reset settings or just to reset all settings? simple prompt component?
save old settings and add btn to undo/go back to those settings?
some btns could use icons next to them
clock tab is replaced with worldclock tab when worldclock is open, etc

https://youtu.be/Xbo3uZ5Ge10
- offline fallback
- google analytics

themes:
reset display settings/theme btn
other theme defaults, save theme profiles
export and share themes

setting to hide title bar after time (10s, etc) of inactivity, mouse move to make it reappear

ux:
monospace/fix kerning for numbers in time so they do not shift
- https://stackoverflow.com/questions/10149330/force-non-monospace-font-into-fixed-width-using-css

reset settings btn, save settings to browser local storage
let user chose primary and secondary color/palette, also chose specific color for hands, ticks, etc

low priority:
can add shortcut icons for pwa manifest shortcuts

more settings:
tick hands
modal for steps to add to taskbar, apps, mobile, etc for each os with details/summary
select font size for digital displays
save settings in local storage toggle that on change if off clears local storage, clear local storage btn that's disabled if local storage is empty
- after local storage is cleared/off, toast prompt offering to refresh website / reset settings? too confusing?
add about section for help translating to your language
titles for icon buttons, maybe tooltips, should be translated

----------------

later:
searchable settings? (search bar on modal title area)
save time history in stopwatch (can print, share, download, etc)
show internet strength, weather, link to spotify options
music playback options secondary display with spotify (p/p, ff, rw, song and artist name)
always on top mode is not possible. write about this in FAQs or help, and then mention ways of doing this on different operating systems.
dark mode styles for <table>

worldclocks with weather and music at bottom lots of customizability

big stopwatch in center, smaller ones below, or mode to have all of them smaller, change size of stopwatches/worldclocks and choose a primary one or not to have one


presentation API
https://developer.mozilla.org/en-US/docs/Web/API/Navigator/presentation
https://developer.mozilla.org/en-US/docs/Web/API/Presentation_API
https://developers.google.com/web/updates/2018/04/present-web-pages-to-secondary-attached-displays#samples_and_demos
https://googlechrome.github.io/samples/presentation-api/
icon ideas: present, tv, cast, chromecast, projector, arrow, external link

wake lock
https://whatpwacando.today/wake-lock
https://developer.mozilla.org/en-US/docs/Web/API/Screen_Wake_Lock_API
https://web.dev/wake-lock/
https://wake-lock-demo.glitch.me/

vibration for alarms
https://whatpwacando.today/vibration

audio on lockscreen (for alarms)
https://whatpwacando.today/audio

bugs:
pinpoint seconds in analog/digital time
dbl click on btn shouldnt toggle fullscreen

not bugs (hydration issues, fixed in build/preview)
install btn disappears when changing to night mode?

needs testing:
casting
pwa, auto update, offline

visual bugs:
battery fill when charging in night mode doesn't turn unfilled part dark (transparent)

development bugs:
fix auto format for hooks.js

tmp bug fixes:
nav links are underline despite styless.css
    cause: npm run dev has :not(nav a) but npm run prod has :not(nava)
    tried: changing to :not(nav), but links are not affected
    possible solutions: parent-child selectors such as > or +
    solution: nav a:hover {text-decoration: none}

performance:

maybe:
give them option to swap order of date and time?
ability to turn off setting to live preview time format in dropdown (advanced setting?)
nav: click away or esc to close nav?
nah: different face appearance for night mode settings
documents.fonts.entries() and give user choice of any font on their system
binary clock option? Two or three rows for hrs, mins, sec

notes:
changing the face fill to transparent (-1) will disable the shadow fill and shadow input
node -v is 14.17.5

get user geolocation (browser asks them)
https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API/Using_the_Geolocation_API#watching_the_current_position
const watchID = navigator.geolocation.watchPosition((position) => {
  console.log(position.coords.latitude, position.coords.longitude);
});

use picture in picture with clock as video element to keep always on top / its own window on pc or phone?
https://css-tricks.com/an-introduction-to-the-picture-in-picture-web-api/
https://developer.mozilla.org/en-US/docs/Web/API/Picture-in-Picture_API

alarm clock using empty audio element that replaces it at right time and works if user navigates away? notification api for timer? ask for test notification first, can go to settings to change

flipclock like https://onlineclock.net/flip/ ?

more later:
integrate with spotify for media controls?
- https://developer.spotify.com/documentation/web-api/quick-start/
weather api?
- https://www.weatherapi.com/pricing.aspx
- astronomy api for sunrise/set https://www.weatherapi.com/docs/
- user choses F or C (default to location), ask user for location in toast
- multiple toggles for display temp, feels like, wind, air quality, etc.
save custom date/time formats in dropdown, remove default formats, etc


links:
https://tc39.es/ecma402/#table-datetimeformat-components

https://deviceshots.com/

misc:
Stopwatch has previous lap as circle and tick marks for laps before, green means before, yellow means after, red means after + at least 1. Can configure number of previous laps to display, default 5, and if the opacity goes down for each previous lap.
Show lap number, lap time and cumulative time, show small bar / graph on side (optional) and can name them, store notes, store date, and have folders for them.
Worldclock: analog clock with digital time below, then date below, then utc +- below
Above is timezone drop-down and name of timezone/time (custom text input)
Top row has icons on left for drag, move, and right for delete, edit.
Button to delete all worldclocks, options to open presets (lists of worldclocks for different uses) can be organized into tabs maybe?
Day, night theme but also theme that changes sky background color based on time of day (can show sunrise and sunset). Function that takes in time (ms since epoch) and location (long/lat) and spit out next sunrise and sunset? Offline?
Trailer video with bouncy pop music that shows off lots of features quickly

future maybe:
support smart watches, android auto, smart tv, etc, mobile port

datetime utility:
converter for 2.2 billion hours to years for example
how many days ago was July 17
speech recognition: https://whatpwacando.today/speech-recognition

play whitenoise / "sounds" as well, rain, wind, fireplace, birds, etc

way future: custom images, audio, slideshow, playlist options?

speak time/date btn

sleep clock

calendar
reminders
birthdays

blinking colon mode :

Convert timestamp to readable date time, get date for "next Tuesday" "last Monday" "Thanksgiving" etc, July 18 last year, day of week for March 2nd 2025, etc. Natural language like time.lol

Select date and time picker for countdown timers, count time since or time until, chose which units displayed (sec,min,hour,day, etc)

worldclock timetable option like in https://whats-the-time.netlify.app/

schedule option with notes (events with fixed time or date or time range or date range)

support for daylight savings (reminders, option to turn off, detect locale/locateion before giving reminder toast)
- reminders option, modal to check when whch timezones enter or leave daylight savings

localizing numbers: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat
instructions for if time is off, based on system time, how to synx system time, windows, android, etc
windows: date&time > sync now

console check theme settings:
JSON.parse(localStorage.settings).clock.theme

setting to turn off transitions? (tick second hands)
- sweep second hand but not transition wildly when switching tabs

custom icons:
'digital': {
	path: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 3v6m0 2h0h0v6m2 2v0h6v0m2-2v-6m0-2v-6m-2-2h-6m0 9h6"/>`
},

misc unsorted:
Timer, countdown, stopwatch, kitchen/exam/exercise/running, time and date calculations, time since, time until, alarms, svelte, moment
Sleep cycle, world clock, workout mode (set a number of different timers in a row, for rest and excersize, give them each labels)
Desktop Clock: calendar, sunrise / sunset info
chess clock, calendar
Milliseconds option for stopwatch, swim clock option for only mins and sec, Chromecast button
Quick copy inputs and buttons for date, time, and both in one with formatting options (for entering current date/time in a spreadsheet for example)
Clock: multiple countdowns on a row, bus stop clock display, tournament organizer display with room for displaying text, custom text at bottom option for default clock
4 ticks 12 ticks and 60 ticks display large medium small or none. Clock face and ticks and hands colors between white light, medium, dark, and black. Hand display is large medium small or none. Clock face can be circle, square, or rounded.
Main display can be analog, digital, or date, and sub display can be digital or date
worldclocks in row or grid, as analog or digital?
save settings to browser local storage, option to download and upload (as json)
pop out window button
reminder notificaiton at time or day
stay awake mode, localization, multiple date and time modes, store settings, reset settings, keyboard shortcuts
always on top, chromecast, battery, theme colors, luxon
installable in android play store https://developer.chrome.com/docs/android/trusted-web-activity/overview/
sleep calculator, timezone list with reset to current/device btn
New mode "programming" for listing utc string, iso string, mills since epoch, enter one and convert to the other, subtract dates, etc

Days until
Countdown to a time and day
save a list of time/dates
calendar, birthday tracker (with reminders)
maybe later: weather
Blockers: Changeable lang, Google analytics
Next: Translate to Spanish, testing, inline check for Lang for dayjs docs modal
Finally: marketing, seo, launch trailer
Note: update about description, mention more modes coming soon, all in one clock
Port to extension
font options, background image, clock size settings
primary display: calendar and clock, or just clock, or just calendar
ticking sound option
chess clock / game clock, add multiple players, pause, resume options, change defaults. clocks for sports with quarters/halves and mins length, add timeouts feature that can be tracked (how many used), add kitchen timers with names
ask kanga about converting timezones idea adding to desktop clock?
Sharable calendar links for scheduling
Show battery and device wifi / data signal
Last degrees = [0,0,0] then rotate back by last degrees and set last degrees to new degrees in setTime
Above secondary display, have "install" btn in dark gray and long rounded, next to it a question mark small btn that opens a modal and explains you can install for offline use, app is free with no ads or tracking, small file size, light weight, etc. Can explain about PWAs and how to open on your device (detect device?)
display timezone on bottom option
metronome
custom sweep or tick, custom font
mode for detect bpm (tap or click at frequency and determine bpm of music, heartrate, etc)
Digital / analog swap quick button (like night Fullscreen etc) icon of clock or of ":" colon check if colon is used internationally.
Options for analog or digital for each section (clock, stopwatch, game clock, etc) option for both in some (stopwatch and game clock can have both)

Option to have digital time on the bottom right of the app in different modes such as stopwatch
Always on top mode for timer / stopwatch.
Cooking timer mode for listing different steps. Label timers then click a button to go to next timer.
Todos: standard Todo mvc app, but also includes checkbox/radio for in progress, and sort by name, date added, status etc. Optional "more" section to expand on bottom with small caret icon: includes time task takes and start date and time. Will show up in calendar. Option to add to calendar app or set reminder.
Calendar: standard calendar, can have tasks such as meetings, but also shows todos. Also integrates with birthdays.
Birthdays: store names and birthdays, and importance level. Option to see birthdays on homescreen of clock, can chose which importance level and see how many days advance reminder before their birthday.

Integrate clock homescreen with Spotify option in settings. Btn to log in with Spotify. Requires backend to store API key...
Free, and pro features free for first 10k users (create email login)


Show slideshow option (between time date and other displays) choose slideshow seconds per slide
Display timezone option, option for utc gmt location name or timezone name
Weather using geolocation with icon and temperature maybe forecast. Option to use current location of set manually, same as timezone options
Show wifi signal
Picture in picture clock? Embed svg inside video element?
Sunrise sunset options
Game clock option
Binary option clock
Flipcard clock, blinking colon
Datetime options and region
Calendar?
Notification API, stay awake API
Opacity on analog svg paths and shapes, background blur always true
Reset settings, clear storage btns, do not store checkbox
Share btn defaults to quick btn but can remove
In about modal, like the clock? Instead of donating to the developer, please donate to one of the following charities instead (list links) feel free to tweet out your donation with the tag #desktopclock
If calendar show upcoming items in main screen. Option to remind x mins before and show notification y mins before. Sync with system calendar? Sync with system alarms? Is there an alarms API? Store stopwatch progress, delete history, organize items in labels and folders.
Worldclock show current time and date in local timezone in large heading on top, option for media controls below as well
Setting for default tab (clock, worldclock etc) to open on startup
Set reminders using an API?
Todos?
Countdown timer?
Pop out btn for desktop (new window frameless)

Bpm calculator for heart rate or song
Metronome
Game clock (sports, board game, etc) chess presets, other presets for sports
Cooking timer
Workout timer, sequential timers with names, click when one ends and click again to start the next one
Clock android advertise/features:
Very large display, nightstand clock, custom colors, portrait and landscape, widget, system alarms, custom photo background, custom alarm sounds

Clock alarms calendar

Future: date picker and time picker (dropdown for hour, min, sec, year, mon, day)?
screensaver

Stopwatch with quick buttons like night, Fullscreen, change display: switch to workout / running mode, other quick btns hidden by default such as chess mode, sports mode, cooking mode etc. Set workout routines, recipes etc. Convert running laps automatically if you tell it how far a lap is.
stopwatch speaks time when you hit lap, extra large lap button
Worldclock options like those in kanga's app, in world clock app by timeanddate.com
For use as night clock on computer or phone, can be cast
About section: what features would you like to see in desktop clock? (Contact btn)
Button to speak. Interval to speak
similar marketing to https://play.google.com/store/apps/details?id=hdesign.theclock

Many preset clocks to chose from, different svg / css patterns, live preview.
Date and time, battery, weather, music, calendar
