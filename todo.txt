main todo:
get linting/formatting on all devices, update readme with instructions for new device

auto detect locale (datetime locale) (each toggle has a reset/automatically determine btn)

fix margin on primary display date/time/datetime, too large/overflow
formatting options for date/time/datetime, should also support short or long names for month, weekday, other locales

show cast btn only if device supports it (navigator.presentation ?)

pinning cast button: https://support.google.com/chromecast/answer/7249696
cast a tab: https://support.google.com/chromecast/answer/3228332
add link to faqs/help

zen mode btn: top of clock settings, click to go fullscreen, no menu, no buttons, no title, just primary and secondary display

custom scrollbar?

dark theme update app theme colors, favicon? do similar for other themes?

link to browse all colors at justingolden.me/tailwind-colors ?

presentation api todo:
make the receiver a page that just has the clock with no menu or buttons, and then the user can change the settings and it sends a signal to the receiver to display those changes on the tv. eventually will want to support worldclock etc

btn to add new theme, new theme shows up as btn with small x to right to delete it
prompt "are you sure" before deleting, max of 20 themes, btn to delete all themes appears if more than 5

NOW:
clean project, then translate

TOP PRIORITY / MVP:
btn for zen mode and/or btn for digital/analog on main ui?
minor bug: clock freezes for one second before continuing
- hour hand also teleports, probably because of timezone detection
PWA bugs fixed
translate / fully support spanish, let user change their lang
finish keyboard shortcuts, display shortcuts in modal
implement settings in local storage, option to turn off and option to reset, see notes
- needs testing
detect datetime format? should not display am/pm to en-uk users for example
AM PM : "United States, Canada (except QuÃ©bec), Australia, New Zealand, and the Philippines" https://www.timeanddate.com/time/am-and-pm.html
google analytics, etc
clean code, fix linting errors
zen mode should be a quick button in bottom left by default
inner modals should be same size as outter modals
determine final structure for clock theme settings (will be ahrd to change after launch)

MVP consider:
cache fonts offline?
website not working in messenger?

code organizaiton:
one centralized place for $now with .tz() and others so redundant code doesn't have to be supported

BONUS / NEXT:
theme color(s) (primary and secondary/accent colors) used across entire UI (use css variables and tailwind colors in script to handle app color theme?)
option to display timezone name (string selected in dropdown as opposed to utc code)
better selection methods and displays for timezone dropdown (display utc, autocomplete input)
interior modal full width (formatting table, eventually view shortcuts modal) move modal outside of settings modal (settings component)
 - settings component could include modal wrapper
settings should only show clock settings if clock open, show worldclock settings if worldclock open, etc.

future settings adjustments:
- send feedback can open modal prompt with subject and body and send btn opens mailto
- implenent langs, locales, timezones, update ui with reset btns next to them and auto detect toggle
- finalize keyboard shortcuts, view keyboard shortcuts modal (maybe turn on and off specific shortcuts, change keys (each item has a toggle and input for key))
display toast if update is available (click to restart/install) (option to turn this off?)

```
window.isUpdateAvailable = new Promise(function (resolve, reject) {
    navigator.serviceWorker
      .register("service-worker.js")
      .then((reg) => {
        reg.onupdatefound = () => {
          const installingWorker = reg.installing;
          installingWorker.onstatechange = () => {
            switch (installingWorker.state) {
              case "installed":
                if (navigator.serviceWorker.controller) {
                  // new update available
                  resolve(true);
                } else {
                  // no update available
                  resolve(false);
                }
                break;
            }
          };
        };
      })
      .catch((err) => console.error("[SW ERROR]", err));
});
```

redirect /index.html to /

maybe:
remember which tab and accordion are open in local storage?

more folders for components? (toast, tabs in their own, components for only one page (clock, worldclock) should also have their own folders)

better detection for default system language?
```
https://github.com/kangabru/whats-the-time/blob/master/src/utils/utils.ts
window.navigator.languages ? window.navigator.languages[0] : window.navigator.language;
should instead check default navigator.language and if not in available languages then loop through navigator.languages
in order until finding a hard match (en-US vs en-US) and if not then loop through until finding a soft match (en vs en-US or en-UK vs en-US)
if no matches are found, default to en-US
```

font weight and font size settings for both primary and secondary displays?
make sure fonts are served offline
reduce file size of fonts loaded

pop out settings modal (into new window) button?

varying font size based off of lenght of string for custom date/time/datetime format (primary display only)


fix font loading in select

get version from package.json in about section
command to automatically build for production (update sw cache name) and update version number in package json?

bug: app doesn't work in messenger in browser

next:
!!! : ) dropdown for color in additon to lightness for each item in analog theme. option for "primary color" and "accent color" which can be chosen in general settings
review font families again?
test casting api
add more icons to settings?
fix theme btn display
check meta tags, make sure it works on google,fb,twitter, etc, maybe add similar to sharethis?
https://metatags.io/
implement automated testing?
save settings automatically toggle?

settings.svelte is a MESS, needs to be broken down, translated, etc.
next: clean settings and nav, implement spanish translations, implement way for user to change language (currently has no effect), clean :global(body.dark) to dark:

preset buttons that you click for specific settings/modes, for example, "swim clock" which has mins and sec only
ability to have multiple timers/countdowns in 3hrs/3years, name them, delete them, share them (url params)
multiple timers can count time since or time until, or for set amount of time. can split into multiple sections each with simple ui

preset themes (choose from maybe five or ten, preview images or clocks maybe?)
save your own themes and load them?

live update clock preview in settings on static float right when changing analog display settings?

future:
timezone input with autocomplete select
primary or secondary input: timezone (name, location, utc... pick which ones), greeting ("good morning/afternoon/evening/night, {name}"), custom (custom text)
test presentation, share, and pwa
calendar page
flutter mobile apps, port to watch and tv
option to change datetime order to date then time or time then date
centralized "card"/"surface" styles for nav, modal, toast, tabs, etc, with similar backdrop blur, colors, night colors, padding, opacity, etc
list in android store and windows store (twa) https://youtu.be/7JDFjeMvxos

settings ui:
version number should be moved from applicaiton to about. way to automatically update each commit?
all 3 locale settings should have reset btns next to them and auto detect toggles next to them
download and upload settings (json, human readable) should be in advanced settings? maybe not
add confirmation prompt to reset settings or just to reset all settings? simple prompt component?
save old settings and add btn to undo/go back to those settings?
some btns could use icons next to them
clock tab is replaced with worldclock tab when worldclock is open, etc

https://youtu.be/Xbo3uZ5Ge10
- offline fallback
- shortcuts to tasks
- google analytics


worldclocks with weather and music at bottom lots of customizability

big stopwatch in center, smaller ones below, or mode to have all of them smaller, change size of stopwatches/worldclocks and choose a primary one or not to have one

wake lock
https://whatpwacando.today/wake-lock
https://developer.mozilla.org/en-US/docs/Web/API/Screen_Wake_Lock_API
https://web.dev/wake-lock/
https://wake-lock-demo.glitch.me/

vibration for alarms
https://whatpwacando.today/vibration

audio on lockscreen (for alarms)
https://whatpwacando.today/audio

presentation API
https://developer.mozilla.org/en-US/docs/Web/API/Navigator/presentation
https://developer.mozilla.org/en-US/docs/Web/API/Presentation_API
https://developers.google.com/web/updates/2018/04/present-web-pages-to-secondary-attached-displays#samples_and_demos
https://googlechrome.github.io/samples/presentation-api/
icon ideas: present, tv, cast, chromecast, projector, arrow, external link

themes:
reset display settings/theme btn
other theme defaults, save theme profiles
export and share themes

dev setup:
extrapolate battery component, analog clock

searchable settings? (search bar on modal title area)

setting to hide title bar after time (10s, etc) of inactivity, mouse move to make it reappear

ux:
monospace/fix kerning for numbers in time so they do not shift
- https://stackoverflow.com/questions/10149330/force-non-monospace-font-into-fixed-width-using-css

reset settings btn, save settings to browser local storage
let user chose primary and secondary color/palette, also chose specific color for hands, ticks, etc

add i18n
add animate.css
animated icons / icon animations
add fonts offline

more settings:
tick hands
flip clock for digital time
save time history in stopwatch (can print, share, download, etc)
show internet strength, weather, link to spotify options
modal for steps to add to taskbar, apps, mobile, etc for each os with details/summary

later:
store settings in localstorage
music playback options secondary display with spotify (p/p, ff, rw, song and artist name)
displays.js: implement format options, locale options
always on top mode is not possible. write about this in FAQs or help, and then mention ways of doing this on different operating systems.
dark mode styles for <table>

bugs:
home theme buttons do not function
pinpoint seconds in analog/digital time
pwa auto update (fixed?)
dbl click on btn shouldnt toggle fullscreen

not bugs (hydration issues, fixed in build/preview)
install btn disappears when changing to night mode?

needs testing:
casting
pwa, auto update, offline

visual bugs:
close icon in modals not showing
battery fill when charging in night mode doesn't turn unfilled part dark (transparent)

development bugs:
fix auto format for hooks.js

tmp bug fixes:
nav links are underline despite styless.css
    cause: npm run dev has :not(nav a) but npm run prod has :not(nava)
    tried: changing to :not(nav), but links are not affected
    possible solutions: parent-child selectors such as > or +
    solution: nav a:hover {text-decoration: none}

performance:

maybe:
ability to turn off setting to live preview time format in dropdown (advanced setting?)
font weight options? slider? dropdown?
titles for icon buttons, maybe tooltips, should be translated
give them option to swap order of date and time?
nav: click away or esc to close nav?
different face appearance for night mode settings
more reset btns accross settings tabs/pannels
documents.fonts.entries() and give user choice of any font on their system
binary clock option? Two or three rows for hrs, mins, sec

notes:
changing the face fill to transparent (-1) will disable the shadow fill and shadow input
node -v is 14.17.5

get user geolocation (browser asks them)
https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API/Using_the_Geolocation_API#watching_the_current_position
const watchID = navigator.geolocation.watchPosition((position) => {
  console.log(position.coords.latitude, position.coords.longitude);
});

use picture in picture with clock as video element to keep always on top / its own window on pc or phone?
https://css-tricks.com/an-introduction-to-the-picture-in-picture-web-api/
https://developer.mozilla.org/en-US/docs/Web/API/Picture-in-Picture_API

alarm clock using empty audio element that replaces it at right time and works if user navigates away? notification api for timer? ask for test notification first, can go to settings to change

flipclock like https://onlineclock.net/flip/ ?

more later:
integrate with spotify for media controls?
weather api?
save custom date/time formats in dropdown, remove default formats, etc

links:
https://tc39.es/ecma402/#table-datetimeformat-components

https://deviceshots.com/

future maybe:
support smart watches, android auto, smart tv, etc, mobile port

misc:
Stopwatch has previous lap as circle and tick marks for laps before, green means before, yellow means after, red means after + at least 1. Can configure number of previous laps to display, default 5, and if the opacity goes down for each previous lap.
Show lap number, lap time and cumulative time, show small bar / graph on side (optional) and can name them, store notes, store date, and have folders for them.
Worldclock: analog clock with digital time below, then date below, then utc +- below
Above is timezone drop-down and name of timezone/time (custom text input)
Top row has icons on left for drag, move, and right for delete, edit.
Button to delete all worldclocks, options to open presets (lists of worldclocks for different uses) can be organized into tabs maybe?
Day, night theme but also theme that changes sky background color based on time of day (can show sunrise and sunset). Function that takes in time (ms since epoch) and location (long/lat) and spit out next sunrise and sunset? Offline?
More prominent share prompt somewhere?
Trailer video with bouncy pop music that shows off lots of features quickly

datetime utility:
converter for 2.2 billion hours to years for example
how many days ago was July 17
speech rcognition: https://whatpwacando.today/speech-recognition

play whitenoise / "sounds" as well, rain, wind, fireplace, birds, etc

speak time/date btn

sleep clock

calendar
reminders
birthdays

blinking colon mode :

Convert timestamp to readable date time, get date for "next Tuesday" "last Monday" "Thanksgiving" etc, July 18 last year, day of week for March 2nd 2025, etc. Natural language like time.lol

Select date and time picker for countdown timers, count time since or time until, chose which units displayed (sec,min,hour,day, etc)

Select font size for digital displays

Save settings in local storage toggle that on change if off clears local storage, clear local storage btn that's disabled if local storage is empty
- after local storage is cleared/off, toast prompt offering to refresh website / reset settings? too confusing?

worldclock timetable option like in https://whats-the-time.netlify.app/

schedule option with notes (events with fixed time or date or time range or date range)

support for daylight savings (reminders, option to turn off, detect locale/locateion before giving reminder toast)

localizing numbers: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat